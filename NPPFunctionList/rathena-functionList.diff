 NPPFunctionList/functionList.xml | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

diff --git a/NPPFunctionList/functionList.xml b/NPPFunctionList/functionList.xml
index a431ca3..0332eb6 100644
--- a/NPPFunctionList/functionList.xml
+++ b/NPPFunctionList/functionList.xml
@@ -40,6 +40,8 @@ http://notepad-plus-plus.org/features/function-list.html
 			<association userDefinedLangName="my user defined language" id="my_udl_passer_id"/>
 			<association userDefinedLangName="Autocad" id="my_autocad_passer_id"/>
 		-->
+			<!-- Function List for "rathena" UDL -->
+			<association userDefinedLangName="rathena" id="rathena_function"/>
 		</associationMap>
 		<parsers>
 
@@ -252,6 +254,39 @@ http://notepad-plus-plus.org/features/function-list.html
 				<function mainExpr="">
 				</function>
 			</parser>
+			
+			<parser id="rathena_function" displayName="NPC Script" commentExpr="(/\*.*\*/)">
+				<!-- NPC Scripts -->
+				<classRange
+					mainExpr="^([\w_-]+[^\t]*\tscript\t([^\t]*)\t[^\{]*\{)$"
+					openSymbole = "\{"
+					closeSymbole = "\}"
+					displayMode="node">
+					<className>
+						<nameExpr expr="(script\t([^\t]+))"/>
+						<nameExpr expr="\t([^\t]+)"/>
+					</className>
+					<function
+						mainExpr="(^[\s]*((On[^:]*:)|(function [^ ]* \{))[\r\n])|(script\t[^\t]*\t)">
+						<functionName>
+							<funcNameExpr expr="(On[^:]*)|(function [^ ]* )|(script\t[^\t]*\t)"/>
+							<funcNameExpr expr="(On[^:]*)|(function [^ ]* )|(\t[^\t]*\t)"/>
+						</functionName>
+					</function>
+				</classRange>
+				<!-- NPC Duplication, warps, shops, permanent monster spawns, mapflags -->
+				<function
+					mainExpr="(^[\w_-]+[^\t]*\t(mapflag)\t[\w_-]+)|((^[\w_-]+)[^\t]*\t(duplicate\([^\)]+\)|monster|(point|market|cash|item)?shop|warp2?)\t[^\t]+\t[^\r\n]+)"
+					displayMode="$functionName">
+					<functionName>
+						<nameExpr expr="(mapflag\t[\w_-]+)|((duplicate\([^\)]+\)|monster|shop|script|warp2?)\t[^\t\r\n]+)"/>
+						<nameExpr expr="(\t[^\t\r\n]+)"/>
+					</functionName>
+					<className>
+						<nameExpr expr="(^[\w_-]+[^\t]*\t(mapflag))|((duplicate\([^\)]+\)|monster|(point|market|cash|item)?shop|warp2?))"/>
+					</className>
+				</function>
+			</parser>
 		</parsers>
 	</functionList>
 </NotepadPlus>
